<html>
<head> 
    <title> Pokedex </title>
    <link rel="icon" type="image/x-icon" href="pokedex.ico">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <style>
        button {
            height: 50px;
            width: 150px;
            font-size: large;
            background-color: red;
            color: white;
        }

        html {
            scroll-behavior: smooth;
        }
        
        table,td,tr {
            text-align: center;
            font-size: x-large;
            border: 1px solid black;
            margin: auto;
        }

        body {
            /* background-image: url(bg.jpg); */
            background-size: cover;
            text-align: center;
            font-size: x-large;
        }

        input {
            height: 40px;
        }

    </style>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script>
        function poke() {
            var num = Math.ceil(Math.random() * 100);
            var url = "https://pokeapi.co/api/v2/pokemon/";
            var poke = url + num;
            //alert(poke);
            fetch(poke)
            .then( response => response.json())
            .then(data => {
                console.log(data);
                console.log();
                document.getElementById("name").innerText=(data.forms[0].name);
                document.getElementById("ability1").innerText=(data.abilities[0].ability.name);
                document.getElementById("ability2").innerText=(data.abilities[1].ability.name);
                document.getElementById("ability3").innerText=(data.abilities[2].ability.name);
                document.getElementById("weight").innerText=(data.weight);
                document.getElementById("height").innerText=(data.height);
                document.getElementById("type").innerText=(data.types[0].type.name);
                document.getElementById("type2").innerText=(data.types[1].type.name);
                })
                
                document.getElementById("type2").innerText="None";
        }
    
        function search() {
            var name = document.getElementById("pokename").value;
            // alert(name);
            var url = "https://pokeapi.co/api/v2/pokemon/";
            var poke = url + name;
            //alert(poke);
            fetch(poke)
            .then( response => response.json())
            .then(
                data => {
                    console.log(data);
                    document.getElementById("name").innerText=(data.forms[0].name);
                    document.getElementById("ability1").innerText=(data.abilities[0].ability.name);
                    document.getElementById("ability2").innerText=(data.abilities[1].ability.name);
                    document.getElementById("weight").innerText=(data.weight);
                    document.getElementById("height").innerText=(data.height);
                    document.getElementById("type").innerText=(data.types[0].type.name);
                    document.getElementById("type2").innerText=(data.types[1].type.name);
                    document.getElementById("ability3").innerText=(data.abilities[2].ability.name);
                    document.getElementById("pokename").value="";
                })
                .catch(error => {
                    if (error == "TypeError: Cannot read properties of undefined (reading \'type\')") {
                        document.getElementById("pokename").value="";
                    }
                    else {
                        document.getElementById("pokename").value="";
                        alert("Invalid Name!");
                    }
                    
                    // alert(error);
                    document.getElementById("type2").innerText="None";
                    document.getElementById("ability3").innerText="None";
            });
        }
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: black;"> 
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#main">Pokedex</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Pokemons
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="#card"> Pikachu </a>
                <a class="dropdown-item" href="#card"> Squirtle</a>
                <a class="dropdown-item" href="#card">Bulbasaur</a>
                <a class="dropdown-item" href="#card">Charmander</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>
    <div class="container" style="text-align: center;">
        <img src="pokemon.jpg">
      <p>Here are Some Basic Types of <strong> Pokemons </strong></p>
      <br> <hr> <br>
      
      <div class="card-deck" style="color: white;" id="card">
        <div class="col-mb-4 m-sm-3 my-3">
            <div class="card bg-warning">
                <img class="card-img-top" src="pikachu.png" alt="Pikachu" style="width:100%" height="70%">
                <div class="card-body text-center">
                    <p class="card-text"> Pikachu </p>
                    <p class="card-text">Lightning</p>
                </div>
            </div>
        </div>
        <div class="col-mb-4 m-sm-3 my-3">
            <div class="card bg-primary">
                <img class="card-img-top" src="squirtle.jpg" alt="Onix" style="width:100%" height="70%">
                <div class="card-body text-center">
                    <p class="card-text">Squirtle</p>
                    <p class="card-text">Water</p>
                </div>
          </div>
        </div>
        <div class="col-mb-4 m-sm-3 my-3">
            <div class="card bg-success">
                <img class="card-img-top" src="bulbasaur.jpg" alt="Bulbasaur" style="width:100%" height="70%">
                <div class="card-body text-center">
                    <p class="card-text">Bulbasaur</p>
                    <p class="card-text">Leaf</p>
                </div>
          </div>
        </div>
        <div class="col-mb-4 m-sm-3 my-3">
            <div class="card bg-danger">
                <img class="card-img-top" src="Charmander.png" alt="Charmander" style="width:100%">
                <div class="card-body text-center">
                    <p class="card-text">Charmander</p>
                    <p class="card-text">Fire</p>
                </div>
          </div>
        </div>  
      </div>
    </div>
    <br> <hr> <br>

<div class="main" id="main">
    <img src="pokedex.png" alt="POKEMON" width="400px"> 
    <form method="post"> <br>
        <label for="pokename"> <h2> Search Pokemon : </h2> </label>
        <input type="text" name="pokename" id="pokename" required>
    </form>
    <button onclick="search()" accesskey="Enter"> Find </button>
    <button onclick="poke()"> Random </button>
    <br> <br> <hr> <br>
    <h2>
        Pokemon Information :- 
    </h2>
    <br>
    <table>
        <tr>
            <td>
                Name -> 
            </td>
            <td>
                <p id="name"> </p>
            </td>
            </tr>
            <tr>
                <td>
                    Type 1 ->
                </td>
                <td>
                    <p id="type"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Type 2 ->
                </td>
                <td>
                    <p id="type2"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Ability 1 ->
                </td>
                <td>
                    <p id="ability1"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Ability 2 ->
                </td>
                <td>
                    <p id="ability2"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Ability 3 ->
                </td>
                <td>
                    <p id="ability3"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Height ->
                </td>
                <td>
                    <p id="height"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    Weight -> 
                </td>
                <td>
                    <p id="weight"> </p>
                </td>
            </tr>
        </table>
</div>
<br><br>
</body>
</html>